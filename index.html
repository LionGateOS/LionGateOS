<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="#0b0f1a" name="theme-color"/>
<title>LionGateOS</title>
<style>
:root{
  --bg:#070a12;
  --card:rgba(14,18,34,.78);
  --text:#e8edf7;
  --muted:#aab6d6;
  --trace:#5aa0ff;
  --radius:26px;
  --stroke:2px;
}
html,body{margin:0;height:100%;background:var(--bg);color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
.hidden{display:none!important}

#ambient{
  position:fixed;inset:0;z-index:0;pointer-events:none;
  background:
    radial-gradient(900px 600px at 20% 20%, rgba(90,160,255,.08), transparent 60%),
    radial-gradient(900px 650px at 85% 55%, rgba(215,179,90,.06), transparent 65%),
    url("assets/ambient_purple.png");
  background-size:cover;
  background-position:center;
  opacity:.30;
}

#sparkles{position:fixed;inset:0;z-index:1;pointer-events:none;opacity:.18}
.dot{
  position:absolute;width:3px;height:3px;border-radius:50%;
  background:rgba(120,160,255,.9);
  box-shadow:0 0 10px rgba(120,160,255,.85);
  animation:floatUp 22s linear infinite;
}
@keyframes floatUp{from{transform:translateY(0)}to{transform:translateY(-140vh)}}

#splash{position:fixed;inset:0;z-index:9999;background:#000;display:flex;align-items:center;justify-content:center}
#splash.hide{display:none}
#splash video{width:100%;height:100%;object-fit:contain}

#gateway{position:relative;z-index:2;min-height:100%;display:flex;align-items:center;justify-content:center;padding:40px}
.panel{max-width:1100px;width:100%;display:grid;grid-template-columns:1fr 1fr;gap:24px}
@media(max-width:900px){.panel{grid-template-columns:1fr}}

.card{
  position:relative;
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:0 22px 60px rgba(0,0,0,.55);
  overflow:hidden;
  padding:30px;
}

.edgeRunner{position:absolute;inset:0;pointer-events:none;z-index:5}
.edgeRunner svg{width:100%;height:100%;display:block}

.logo{max-width:420px;width:100%;display:block}
footer{margin-top:22px;font-size:12px;color:var(--muted)}

.launcher{display:flex;flex-direction:column;gap:14px}
.launcher a{
  display:flex;align-items:center;justify-content:space-between;
  padding:18px;border-radius:18px;border:1px solid rgba(255,255,255,.14);
  text-decoration:none;color:#fff;
}
.launcher a.disabled{opacity:.5;pointer-events:none}
</style>

<link href="/favicon.ico" rel="icon"/>
<link href="/favicon-32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="/favicon-180.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="/favicon-256.png" rel="icon" sizes="256x256" type="image/png"/>
</head>

<body>
<div id="ambient"></div>
<div id="sparkles"></div>

<div id="splash">
  <!-- cache-proofed splash video -->
  <video autoplay="" id="splashVideo" muted="" playsinline="" preload="none">
    <source src="assets/splash.mp4?v=lgos-splash-20251222" type="video/mp4"/>
  </video>
</div>

<div class="hidden" id="gateway">
<div class="panel">
<div class="card" id="cardLeft">
<div class="edgeRunner">
<svg id="svgLeft"><rect id="baseLeft"></rect><rect id="runLeft"></rect></svg>
</div>
<img class="logo" src="assets/liongateos_logo.png"/>
<footer>Â© <span id="year"></span> LionGateOS</footer>
</div>

<div class="card launcher" id="cardRight">
<div class="edgeRunner">
<svg id="svgRight"><rect id="baseRight"></rect><rect id="runRight"></rect></svg>
</div>
<a class="disabled"><span>Enter LionGateOS</span><span>Coming soon</span></a>
<a href="https://smartquoteai.pro" target="_blank"><span>SmartQuote AI</span><span>Open</span></a>
<a href="https://liongateostravels.com" target="_blank"><span>LionGateOS Travels</span><span>Open</span></a>
</div>
</div>
</div>

<script>
const KEY="lgos_splash_seen_v10";
const splash=document.getElementById("splash");
const gateway=document.getElementById("gateway");
const video=document.getElementById("splashVideo");
document.getElementById("year").textContent=new Date().getFullYear();

function endSplash(){
  splash.classList.add("hide");
  gateway.classList.remove("hidden");
  startAfterPaint();
}

if(localStorage.getItem(KEY)){ endSplash(); }
else{
  video.addEventListener("ended",()=>{localStorage.setItem(KEY,"1");endSplash();});
}

function startAfterPaint(){
  requestAnimationFrame(()=>{
    requestAnimationFrame(()=>{
      window.dispatchEvent(new Event("resize"));
      initRunners();
    });
  });
}

function setupRunner(card,svg,base,run,dir,offset){
  let lastW = -1, lastH = -1;
  function apply(){
    const r=card.getBoundingClientRect();
    if(r.width===0||r.height===0)return;

    const w = Math.round(r.width);
    const h = Math.round(r.height);
    if(w===lastW && h===lastH) return;
    lastW=w; lastH=h;

    svg.setAttribute("viewBox",`0 0 ${r.width} ${r.height}`);
    const rad=26, stroke=2;
    [base,run].forEach(el=>{
      el.setAttribute("x",stroke/2);
      el.setAttribute("y",stroke/2);
      el.setAttribute("width",r.width-stroke);
      el.setAttribute("height",r.height-stroke);
      el.setAttribute("rx",rad);
      el.setAttribute("ry",rad);
      el.setAttribute("fill","none");
      el.setAttribute("stroke-linejoin","round");
    });
    base.setAttribute("stroke","rgba(255,255,255,.12)");
    run.setAttribute("stroke","#5aa0ff");
    run.setAttribute("stroke-width",stroke);

    const p=2*(r.width+r.height);
    run.setAttribute("stroke-dasharray",`${p*0.22} ${p}`);
  }

  function kick(){
    apply();
    requestAnimationFrame(()=>apply());
    setTimeout(apply, 50);
    setTimeout(apply, 250);
    setTimeout(apply, 1000);
  }

  kick();

  if(window.ResizeObserver){
    const ro = new ResizeObserver(()=>apply());
    ro.observe(card);
  }
  window.addEventListener("resize",apply,{passive:true});
  window.addEventListener("orientationchange",apply,{passive:true});
  document.addEventListener("visibilitychange",()=>{ if(!document.hidden) kick(); });

  const splash = document.getElementById("splash");
  if(splash){
    splash.addEventListener("transitionend",kick);
    const vid = splash.querySelector("video");
    if(vid){
      vid.addEventListener("ended",kick);
      vid.addEventListener("loadeddata",kick);
    }
  }

  let t=0;
  (function loop(){
    t+=dir*2;
    run.setAttribute("stroke-dashoffset",offset+t);
    requestAnimationFrame(loop);
  })();
}

function initRunners(){
  setupRunner(cardLeft,svgLeft,baseLeft,runLeft,1,400);
  setupRunner(cardRight,svgRight,baseRight,runRight,-1,120);
}
</script>

<script id="lgos-first-load-layout-fix">(function () {
  function force() {
    try {
      void document.documentElement.offsetHeight;
      void document.body.offsetHeight;
      window.dispatchEvent(new Event('resize'));
      window.dispatchEvent(new Event('orientationchange'));
    } catch (e) {}
  }

  function schedule() {
    requestAnimationFrame(function () {
      force();
      requestAnimationFrame(force);
    });
    setTimeout(force, 50);
    setTimeout(force, 250);
    setTimeout(force, 800);
    setTimeout(force, 1500);
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', schedule, { once: true });
  } else {
    schedule();
  }

  window.addEventListener('load', function () {
    schedule();
  }, { once: true });

  if (document.fonts && document.fonts.ready) {
    document.fonts.ready.then(function () {
      schedule();
    }).catch(function(){});
  }

  try {
    var imgs = Array.prototype.slice.call(document.images || []);
    if (imgs.length) {
      var pending = imgs.filter(function (img) { return !img.complete; });
      if (pending.length) {
        var left = pending.length;
        pending.forEach(function (img) {
          var done = function () {
            left--;
            if (left <= 0) schedule();
          };
          img.addEventListener('load', done, { once: true });
          img.addEventListener('error', done, { once: true });
        });
      }
    }
  } catch (e) {}
})();</script>

</body>
</html>
